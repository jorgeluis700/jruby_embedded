<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: BlueCloth</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">BlueCloth</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/bluecloth_rb.html">
                lib/bluecloth.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                String
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Bluecloth is a Ruby implementation of Markdown, a text-to-HTML conversion
tool.
</p>
<h2>Synopsis</h2>
<pre>
  doc = BlueCloth::new &quot;
    ## Test document ##

    Just a simple test.
  &quot;

  puts doc.to_html
</pre>
<h2>Authors</h2>
<ul>
<li>Michael Granger &lt;ged@FaerieMUD.org&gt;

</li>
</ul>
<h2>Contributors</h2>
<ul>
<li>Martin Chase &lt;stillflame@FaerieMUD.org&gt; - Peer review, helpful
suggestions

</li>
<li>Florian Gross &lt;flgr@ccan.de&gt; - Filter options, suggestions

</li>
</ul>
<h2>Copyright</h2>
<p>
Original version:
</p>
<pre>
  Copyright (c) 2003-2004 John Gruber
  &lt;http://daringfireball.net/&gt;
  All rights reserved.
</pre>
<p>
Ruby port:
</p>
<pre>
  Copyright (c) 2004 The FaerieMUD Consortium.
</pre>
<p>
<a href="BlueCloth.html">BlueCloth</a> is free software; you can
redistribute it and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either version 2 of
the License, or (at your option) any later version.
</p>
<p>
<a href="BlueCloth.html">BlueCloth</a> is distributed in the hope that it
will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
Public License for more details.
</p>
<h2>To-do</h2>
<ul>
<li>Refactor some of the larger uglier methods that have to do their own
brute-force scanning because of lack of Perl features in Ruby&#8216;s
Regexp class. Alternately, could add a dependency on &#8216;pcre&#8217; and
use most Perl regexps.

</li>
<li>Put the StringScanner in the render state for thread-safety.

</li>
</ul>
<h2>Version</h2>
<pre>
 $Id: bluecloth.rb 130 2009-07-16 00:08:36Z deveiant $
</pre>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000005">apply_block_transforms</a>&nbsp;&nbsp;
      <a href="#M000006">apply_span_transforms</a>&nbsp;&nbsp;
      <a href="#M000003">detab</a>&nbsp;&nbsp;
      <a href="#M000004">detab!</a>&nbsp;&nbsp;
      <a href="#M000011">encode_backslash_escapes</a>&nbsp;&nbsp;
      <a href="#M000025">encode_code</a>&nbsp;&nbsp;
      <a href="#M000018">encode_email_address</a>&nbsp;&nbsp;
      <a href="#M000028">encode_html</a>&nbsp;&nbsp;
      <a href="#M000026">escape_md</a>&nbsp;&nbsp;
      <a href="#M000009">escape_special_chars</a>&nbsp;&nbsp;
      <a href="#M000020">form_paragraphs</a>&nbsp;&nbsp;
      <a href="#M000007">hide_html_blocks</a>&nbsp;&nbsp;
      <a href="#M000001">new</a>&nbsp;&nbsp;
      <a href="#M000029">outdent</a>&nbsp;&nbsp;
      <a href="#M000008">strip_link_definitions</a>&nbsp;&nbsp;
      <a href="#M000002">to_html</a>&nbsp;&nbsp;
      <a href="#M000027">tokenize_html</a>&nbsp;&nbsp;
      <a href="#M000021">transform_anchors</a>&nbsp;&nbsp;
      <a href="#M000017">transform_auto_links</a>&nbsp;&nbsp;
      <a href="#M000016">transform_block_quotes</a>&nbsp;&nbsp;
      <a href="#M000015">transform_code_blocks</a>&nbsp;&nbsp;
      <a href="#M000023">transform_code_spans</a>&nbsp;&nbsp;
      <a href="#M000019">transform_headers</a>&nbsp;&nbsp;
      <a href="#M000012">transform_hrules</a>&nbsp;&nbsp;
      <a href="#M000024">transform_images</a>&nbsp;&nbsp;
      <a href="#M000022">transform_italic_and_bold</a>&nbsp;&nbsp;
      <a href="#M000014">transform_list_items</a>&nbsp;&nbsp;
      <a href="#M000013">transform_lists</a>&nbsp;&nbsp;
      <a href="#M000010">unescape_special_chars</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="BlueCloth/FormatError.html" class="link">BlueCloth::FormatError</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">Version</td>
          <td>=</td>
          <td class="context-item-value">VERSION = '1.0.1'</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Release Version

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SvnRev</td>
          <td>=</td>
          <td class="context-item-value">%q$Rev: 130 $</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
SVN Revision

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SvnId</td>
          <td>=</td>
          <td class="context-item-value">%q$Id: bluecloth.rb 130 2009-07-16 00:08:36Z deveiant $</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
SVN Id tag

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SvnUrl</td>
          <td>=</td>
          <td class="context-item-value">%q$URL: svn+ssh://deveiate/svn/BlueCloth/releases/1.0.0/lib/bluecloth.rb $</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
SVN URL

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RenderState</td>
          <td>=</td>
          <td class="context-item-value">Struct::new( &quot;RenderState&quot;, :urls, :titles, :html_blocks, :log )</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Rendering state struct. Keeps track of URLs, titles, and HTML blocks midway
through a render. I prefer this to the globals of the Perl version because
globals make me break out in hives. Or something.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TabWidth</td>
          <td>=</td>
          <td class="context-item-value">4</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Tab width for <a href="BlueCloth.html#M000003">detab</a>! if none is
specified

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EmptyElementSuffix</td>
          <td>=</td>
          <td class="context-item-value">&quot;/&gt;&quot;;</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
The tag-closing string &#8212; set to &#8217;&gt;&#8217; for HTML

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EscapeTable</td>
          <td>=</td>
          <td class="context-item-value">{}</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Table of MD5 sums for escaped characters

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">StrictBlockTags</td>
          <td>=</td>
          <td class="context-item-value">%w[ p div h[1-6] blockquote pre table dl ol ul script noscript                 form fieldset iframe math ins del ]</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
The list of tags which are considered block-level constructs and an
alternation pattern suitable for use in regexps made from the list

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">StrictTagPattern</td>
          <td>=</td>
          <td class="context-item-value">StrictBlockTags.join('|')</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">LooseBlockTags</td>
          <td>=</td>
          <td class="context-item-value">StrictBlockTags - %w[ins del]</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">LooseTagPattern</td>
          <td>=</td>
          <td class="context-item-value">LooseBlockTags.join('|')</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">StrictBlockRegex</td>
          <td>=</td>
          <td class="context-item-value">%r{                 ^                                             # Start of line                 &lt;(#{StrictTagPattern})        # Start tag: \2                 \b                                            # word break                 (.*\n)*?                              # Any number of lines, minimal match                 &lt;/\1&gt;                                 # Matching end tag                 [ ]*                                  # trailing spaces                 $                                             # End of line or document           }ix</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Nested blocks:

<pre>
     &lt;div&gt;
             &lt;div&gt;
             tags for inner block must be indented.
             &lt;/div&gt;
     &lt;/div&gt;
</pre>
</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">LooseBlockRegex</td>
          <td>=</td>
          <td class="context-item-value">%r{                 ^                                             # Start of line                 &lt;(#{LooseTagPattern}) # start tag: \2                 \b                                            # word break                 (.*\n)*?                              # Any number of lines, minimal match                 .*&lt;/\1&gt;                                       # Anything + Matching end tag                 [ ]*                                  # trailing spaces                 $                                             # End of line or document           }ix</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
More-liberal block-matching

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">HruleBlockRegex</td>
          <td>=</td>
          <td class="context-item-value">%r{                 (                                             # $1                         \A\n?                                # Start of doc + optional \n                         |                                    # or                         .*\n\n                               # anything + blank line                 )                 (                                             # save in $2                         [ ]*                         # Any spaces                         &lt;hr                                  # Tag open                         \b                                   # Word break                         ([^&lt;&gt;])*?                    # Attributes                         /?&gt;                                  # Tag close                         $                                    # followed by a blank line or end of document                 )           }ix</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Special case for &lt;hr /&gt;.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">LinkRegex</td>
          <td>=</td>
          <td class="context-item-value">%r{                 ^[ ]*\[(.+)\]:                # id = $1                   [ ]*                   \n?                         # maybe *one* newline                   [ ]*                 &lt;?(\S+?)&gt;?                            # url = $2                   [ ]*                   \n?                         # maybe one newline                   [ ]*                 (?:                         # Titles are delimited by &quot;quotes&quot; or (parens).                         [&quot;(]                         (.+?)                        # title = $3                         [&quot;)]                 # Matching ) or &quot;                         [ ]*                 )?    # title is optional                 (?:\n+|\Z)           }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Link defs are in the form: ^[id]: url &quot;optional title&quot;

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ListMarkerOl</td>
          <td>=</td>
          <td class="context-item-value">%r{\d+\.}</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Patterns to match and transform lists

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ListMarkerUl</td>
          <td>=</td>
          <td class="context-item-value">%r{[*+-]}</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ListMarkerAny</td>
          <td>=</td>
          <td class="context-item-value">Regexp::union( ListMarkerOl, ListMarkerUl )</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ListRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                   (?:                         ^[ ]{0,#{TabWidth - 1}}              # Indent &lt; tab width                         (#{ListMarkerAny})                   # unordered or ordered ($1)                         [ ]+                                         # At least one space                   )                   (?m:.+?)                                            # item content (include newlines)                   (?:                           \z                                         # Either EOF                         |                                                    #  or                           \n{2,}                                     # Blank line...                           (?=\S)                                     # ...followed by non-space                           (?![ ]*                                    # ...but not another item                                 (#{ListMarkerAny})                            [ ]+)                   )           }x</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ListItemRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                 (\n)?                                                 # leading line = $1                 (^[ ]*)                                                       # leading whitespace = $2                 (#{ListMarkerAny}) [ ]+                       # list marker = $3                 ((?m:.+?)                                             # list item text   = $4                 (\n{1,2}))                 (?= \n* (\z | \2 (#{ListMarkerAny}) [ ]+))           }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Pattern for transforming list items

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">CodeBlockRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                 (?:\n\n|\A)                 (                                                                     # $1 = the code block                   (?:                         (?:[ ]{#{TabWidth}} | \t)            # a tab or tab-width of spaces                         .*\n+                   )+                 )                 (^[ ]{0,#{TabWidth - 1}}\S|\Z)                # Lookahead for non-space at                                                                                         # line-start, or end of doc           }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Pattern for matching codeblocks

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">BlockQuoteRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                   (?:                         ^[ ]*&gt;[ ]?           # '&gt;' at the start of a line                           .+\n                       # rest of the first line                         (?:.+\n)*            # subsequent consecutive lines                         \n*                          # blanks                   )+           }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Pattern for matching Markdown blockquote blocks

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">PreChunk</td>
          <td>=</td>
          <td class="context-item-value">%r{ ( ^ \s* &lt;pre&gt; .+? &lt;/pre&gt; ) }xm</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">AutoAnchorURLRegexp</td>
          <td>=</td>
          <td class="context-item-value">/&lt;((https?|ftp):[^'&quot;&gt;\s]+)&gt;/</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">AutoAnchorEmailRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                 &lt;                 (                         [-.\w]+                         \@                         [-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+                 )                 &gt;           }xi</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">Encoders</td>
          <td>=</td>
          <td class="context-item-value">[                 lambda {|char| &quot;&amp;#%03d;&quot; % char},                 lambda {|char| &quot;&amp;#x%X;&quot; % char},                 lambda {|char| char.chr },         ]</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Encoder functions to turn characters of an email address into encoded
entities.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SetextHeaderRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                 (.+)                  # The title text ($1)                 \n                 ([\-=])+              # Match a line of = or -. Save only one in $2.                 [ ]*\n+            }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Regex for matching Setext-style headers

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">AtxHeaderRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                 ^(\#{1,6})    # $1 = string of #'s                 [ ]*                 (.+?)         # $2 = Header text                 [ ]*                 \#*                   # optional closing #'s (not counted)                 \n+           }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Regexp for matching ATX-style headers

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RefLinkIdRegex</td>
          <td>=</td>
          <td class="context-item-value">%r{                 [ ]?                                  # Optional leading space                 (?:\n[ ]*)?                           # Optional newline + spaces                 \[                         (.*?)                                # Id = $1                 \]           }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Pattern to match the linkid part of an anchor tag for reference-style
links.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">InlineLinkRegex</td>
          <td>=</td>
          <td class="context-item-value">%r{                 \(                                            # Literal paren                         [ ]*                         # Zero or more spaces                         &lt;?(.+?)&gt;?                    # URI = $1                         [ ]*                         # Zero or more spaces                         (?:                                  #                                  ([\&quot;\'])            # Opening quote char = $2                                 (.*?)                       # Title = $3                                 \2                          # Matching quote char                         )?                                   # Title is optional                 \)           }x</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">BoldRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{ (\*\*|__) (\S|\S.*?\S) \1 }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Pattern to match strong emphasis in Markdown text

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ItalicRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{ (\*|_) (\S|\S.*?\S) \1 }x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Pattern to match normal emphasis in Markdown text

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">InlineImageRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                 (                                     # Whole match = $1                         !\[ (.*?) \] # alt text = $2                   \([ ]*                         &lt;?(\S+?)&gt;?           # source url = $3                     [ ]*                         (?:                          #                            ([&quot;'])             # quote char = $4                           (.*?)                      # title = $5                           \4                 # matching quote                           [ ]*                         )?                           # title is optional                   \)                 )           }xs</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Next, handle inline images: ![alt text](url &quot;optional title&quot;)
Don&#8216;t forget: encode * and _

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ReferenceImageRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{                 (                                     # Whole match = $1                         !\[ (.*?) \] # Alt text = $2                         [ ]?                 # Optional space                         (?:\n[ ]*)?          # One optional newline + spaces                         \[ (.*?) \]          # id = $3                 )           }xs</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Reference-style images

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">CodeEscapeRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{( \* | _ | \{ | \} | \[ | \] | \\ )}x</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Regexp to match special characters in a code block

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">HTMLCommentRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{ &lt;! ( -- .*? -- \s* )+ &gt; }mx</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Matching constructs for tokenizing X/HTML

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XMLProcInstRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{ &lt;\? .*? \?&gt; }mx</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MetaTag</td>
          <td>=</td>
          <td class="context-item-value">Regexp::union( HTMLCommentRegexp, XMLProcInstRegexp )</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">HTMLTagOpenRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{ &lt; [a-z/!$] [^&lt;&gt;]* }imx</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">HTMLTagCloseRegexp</td>
          <td>=</td>
          <td class="context-item-value">%r{ &gt; }x</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">HTMLTagPart</td>
          <td>=</td>
          <td class="context-item-value">Regexp::union( HTMLTagOpenRegexp, HTMLTagCloseRegexp )</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">filter_html</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Filters for controlling what gets output for untrusted input. (But really,
you&#8216;re filtering bad stuff out of untrusted input at submission-time
via untainting, aren&#8216;t you?)

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">filter_styles</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Filters for controlling what gets output for untrusted input. (But really,
you&#8216;re filtering bad stuff out of untrusted input at submission-time
via untainting, aren&#8216;t you?)

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">fold_lines</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
RedCloth-compatibility accessor. Line-folding is part of Markdown syntax,
so this isn&#8216;t used by anything.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000001" class="method-detail">
        <a name="M000001"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000001.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000001.html');return false;">
          <span class="method-name">new</span><span class="method-args">( content=&quot;&quot;, *restrictions )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a <a href="BlueCloth.html#M000001">new</a> <a
href="BlueCloth.html">BlueCloth</a> string.
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000005.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000005.html');return false;">
          <span class="method-name">apply_block_transforms</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Do block-level transforms on a copy of <tt>str</tt> using the specified
render state <tt>rs</tt> and return the results.
</p>
        </div>
      </div>

      <div id="method-M000006" class="method-detail">
        <a name="M000006"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000006.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000006.html');return false;">
          <span class="method-name">apply_span_transforms</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Apply Markdown span transforms to a copy of the specified <tt>str</tt> with
the given render state <tt>rs</tt> and return it.
</p>
        </div>
      </div>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000003.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000003.html');return false;">
          <span class="method-name">detab</span><span class="method-args">( tabwidth=TabWidth )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Convert tabs in <tt>str</tt> to spaces.
</p>
        </div>
      </div>

      <div id="method-M000004" class="method-detail">
        <a name="M000004"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000004.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000004.html');return false;">
          <span class="method-name">detab!</span><span class="method-args">( tabwidth=TabWidth )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Convert tabs to spaces in place and return self if any were converted.
</p>
        </div>
      </div>

      <div id="method-M000011" class="method-detail">
        <a name="M000011"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000011.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000011.html');return false;">
          <span class="method-name">encode_backslash_escapes</span><span class="method-args">( str )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return a copy of the given <tt>str</tt> with any backslashed special
character in it replaced with MD5 placeholders.
</p>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000025.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000025.html');return false;">
          <span class="method-name">encode_code</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Escape any characters special to HTML and encode any characters special to
Markdown in a copy of the given <tt>str</tt> and return it.
</p>
        </div>
      </div>

      <div id="method-M000018" class="method-detail">
        <a name="M000018"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000018.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000018.html');return false;">
          <span class="method-name">encode_email_address</span><span class="method-args">( addr )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform a copy of the given email <tt>addr</tt> into an escaped version
safer for posting publicly.
</p>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000028.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000028.html');return false;">
          <span class="method-name">encode_html</span><span class="method-args">( str )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return a copy of <tt>str</tt> with angle brackets and ampersands
HTML-encoded.
</p>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000026.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000026.html');return false;">
          <span class="method-name">escape_md</span><span class="method-args">( str )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Escape any markdown characters in a copy of the given <tt>str</tt> and
return it.
</p>
        </div>
      </div>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000009.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000009.html');return false;">
          <span class="method-name">escape_special_chars</span><span class="method-args">( str )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Escape special characters in the given <tt>str</tt>
</p>
        </div>
      </div>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000020.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000020.html');return false;">
          <span class="method-name">form_paragraphs</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Wrap all remaining paragraph-looking text in a copy of <tt>str</tt> inside
&lt;p&gt; tags and return it.
</p>
        </div>
      </div>

      <div id="method-M000007" class="method-detail">
        <a name="M000007"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000007.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000007.html');return false;">
          <span class="method-name">hide_html_blocks</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Replace all blocks of HTML in <tt>str</tt> that start in the left margin
with tokens.
</p>
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000029.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000029.html');return false;">
          <span class="method-name">outdent</span><span class="method-args">( str )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return one level of line-leading tabs or spaces from a copy of <tt>str</tt>
and return it.
</p>
        </div>
      </div>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000008.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000008.html');return false;">
          <span class="method-name">strip_link_definitions</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Strip link definitions from <tt>str</tt>, storing them in the given
RenderState <tt>rs</tt>.
</p>
        </div>
      </div>

      <div id="method-M000002" class="method-detail">
        <a name="M000002"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000002.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000002.html');return false;">
          <span class="method-name">to_html</span><span class="method-args">( lite=false )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Render Markdown-formatted text in this string object as HTML and return it.
The parameter is for compatibility with RedCloth, and is currently unused,
though that may change in the future.
</p>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000027.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000027.html');return false;">
          <span class="method-name">tokenize_html</span><span class="method-args">( str ) {|type, token| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Break the HTML source in <tt>str</tt> into a series of tokens and return
them. The tokens are just 2-element Array tuples with a type and the actual
content. If this function is called with a block, the type and text parts
of each token will be yielded to it one at a time as they are extracted.
</p>
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000021.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000021.html');return false;">
          <span class="method-name">transform_anchors</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Apply Markdown anchor transforms to a copy of the specified <tt>str</tt>
with the given render state <tt>rs</tt> and return it.
</p>
        </div>
      </div>

      <div id="method-M000017" class="method-detail">
        <a name="M000017"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000017.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000017.html');return false;">
          <span class="method-name">transform_auto_links</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform URLs in a copy of the specified <tt>str</tt> into links and
return it.
</p>
        </div>
      </div>

      <div id="method-M000016" class="method-detail">
        <a name="M000016"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000016.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000016.html');return false;">
          <span class="method-name">transform_block_quotes</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform Markdown-style blockquotes in a copy of the specified
<tt>str</tt> and return it.
</p>
        </div>
      </div>

      <div id="method-M000015" class="method-detail">
        <a name="M000015"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000015.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000015.html');return false;">
          <span class="method-name">transform_code_blocks</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform Markdown-style codeblocks in a copy of the specified <tt>str</tt>
and return it.
</p>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000023.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000023.html');return false;">
          <span class="method-name">transform_code_spans</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform backticked spans into &lt;code&gt; spans.
</p>
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000019.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000019.html');return false;">
          <span class="method-name">transform_headers</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Apply Markdown header transforms to a copy of the given <tt>str</tt> amd
render state <tt>rs</tt> and return the result.
</p>
        </div>
      </div>

      <div id="method-M000012" class="method-detail">
        <a name="M000012"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000012.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000012.html');return false;">
          <span class="method-name">transform_hrules</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform any Markdown-style horizontal rules in a copy of the specified
<tt>str</tt> and return it.
</p>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000024.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000024.html');return false;">
          <span class="method-name">transform_images</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Turn image markup into image tags.
</p>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000022.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000022.html');return false;">
          <span class="method-name">transform_italic_and_bold</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform italic- and bold-encoded text in a copy of the specified
<tt>str</tt> and return it.
</p>
        </div>
      </div>

      <div id="method-M000014" class="method-detail">
        <a name="M000014"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000014.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000014.html');return false;">
          <span class="method-name">transform_list_items</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform list items in a copy of the given <tt>str</tt> and return it.
</p>
        </div>
      </div>

      <div id="method-M000013" class="method-detail">
        <a name="M000013"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000013.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000013.html');return false;">
          <span class="method-name">transform_lists</span><span class="method-args">( str, rs )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Transform Markdown-style lists in a copy of the specified <tt>str</tt> and
return it.
</p>
        </div>
      </div>

      <div id="method-M000010" class="method-detail">
        <a name="M000010"></a>

        <div class="method-heading">
          <a href="BlueCloth.src/M000010.html" target="Code" class="method-signature"
            onclick="popupCode('BlueCloth.src/M000010.html');return false;">
          <span class="method-name">unescape_special_chars</span><span class="method-args">( str )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Swap escaped special characters in a copy of the given <tt>str</tt> and
return it.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>