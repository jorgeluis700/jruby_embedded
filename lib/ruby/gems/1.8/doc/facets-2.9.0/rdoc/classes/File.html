<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: File</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">File</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/core/facets/file/append_rb.html">
                lib/core/facets/file/append.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/create_rb.html">
                lib/core/facets/file/create.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/ext_rb.html">
                lib/core/facets/file/ext.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/null_rb.html">
                lib/core/facets/file/null.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/read_binary_rb.html">
                lib/core/facets/file/read_binary.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/read_list_rb.html">
                lib/core/facets/file/read_list.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/rewrite_rb.html">
                lib/core/facets/file/rewrite.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/rootname_rb.html">
                lib/core/facets/file/rootname.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/sanitize_rb.html">
                lib/core/facets/file/sanitize.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/split_all_rb.html">
                lib/core/facets/file/split_all.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/split_root_rb.html">
                lib/core/facets/file/split_root.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/write_rb.html">
                lib/core/facets/file/write.rb
                </a>
        <br />
                <a href="../files/lib/core/facets/file/writelines_rb.html">
                lib/core/facets/file/writelines.rb
                </a>
        <br />
                <a href="../files/lib/more/facets/yaml_rb.html">
                lib/more/facets/yaml.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000244">append</a>&nbsp;&nbsp;
      <a href="#M000245">create</a>&nbsp;&nbsp;
      <a href="#M000246">ext</a>&nbsp;&nbsp;
      <a href="#M000247">null</a>&nbsp;&nbsp;
      <a href="#M000248">read_binary</a>&nbsp;&nbsp;
      <a href="#M000249">read_list</a>&nbsp;&nbsp;
      <a href="#M000250">rewrite</a>&nbsp;&nbsp;
      <a href="#M000251">rewrite!</a>&nbsp;&nbsp;
      <a href="#M000252">rootname</a>&nbsp;&nbsp;
      <a href="#M000253">sanitize</a>&nbsp;&nbsp;
      <a href="#M000254">split_all</a>&nbsp;&nbsp;
      <a href="#M000255">split_root</a>&nbsp;&nbsp;
      <a href="#M000256">write</a>&nbsp;&nbsp;
      <a href="#M000257">writelines</a>&nbsp;&nbsp;
      <a href="#M000258">yaml?</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000244" class="method-detail">
        <a name="M000244"></a>

        <div class="method-heading">
          <a href="File.src/M000244.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000244.html');return false;">
          <span class="method-name">append</span><span class="method-args">(file, str)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Append to a file.
</p>
<p>
CREDIT: George Moschovitis
</p>
        </div>
      </div>

      <div id="method-M000245" class="method-detail">
        <a name="M000245"></a>

        <div class="method-heading">
          <a href="File.src/M000245.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000245.html');return false;">
          <span class="method-name">create</span><span class="method-args">(path, str='', &amp;blk)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a new file, or overwrites an existing file, and writes a string
into it. Can also take a block just like File#open, which is yielded
<em>after</em> the string is writ.
</p>
<pre>
  str = 'The content for the file'
  File.create('tmp/myfile.txt', str)
</pre>
<p>
CREDIT: George Moschovitis
</p>
        </div>
      </div>

      <div id="method-M000246" class="method-detail">
        <a name="M000246"></a>

        <div class="method-heading">
          <a href="File.src/M000246.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000246.html');return false;">
          <span class="method-name">ext</span><span class="method-args">(filename, new_ext=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Takes a file name string and returns or changes its extension.
</p>
<p>
Without a new extension argument, returns the extension of the file name.
In this respect <a href="File.html#M000246">ext</a> is like extname, but
unlike extname it does not include the dot prefix.
</p>
<p>
With a new extension argument, changes the exension of the file name to the
new extension and returns it.
</p>
<p>
Examples
</p>
<pre>
  File.ext('file.rb')          # =&gt; 'rb'
  File.ext('file.rb', 'txt')   # =&gt; 'file.txt'
  File.ext('file.rb', '.txt')  # =&gt; 'file.txt'
  File.ext('file.rb', '')      # =&gt; 'file'
</pre>
<p>
This method can be used with <a href="String.html#M000161">String#file</a>
for more object-oriented notation:
</p>
<pre>
  'file.rb'.file.ext('txt')    # =&gt; 'file.txt'
</pre>
<p>
CREDIT: Lavir the Whiolet
</p>
        </div>
      </div>

      <div id="method-M000247" class="method-detail">
        <a name="M000247"></a>

        <div class="method-heading">
          <a href="File.src/M000247.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000247.html');return false;">
          <span class="method-name">null</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Platform.html">Platform</a> dependent <a
href="File.html#M000247">null</a> device.
</p>
<p>
CREDIT: Daniel Burger
</p>
        </div>
      </div>

      <div id="method-M000248" class="method-detail">
        <a name="M000248"></a>

        <div class="method-heading">
          <a href="File.src/M000248.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000248.html');return false;">
          <span class="method-name">read_binary</span><span class="method-args">(fname)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Read in a file as binary data.
</p>
<p>
Assuming we had a binary file &#8216;tmp/binary.dat&#8217;.
</p>
<pre>
  File.read_binary('tmp/binary.dat')
</pre>
<p>
CREDIT: George Moschovitis
</p>
        </div>
      </div>

      <div id="method-M000249" class="method-detail">
        <a name="M000249"></a>

        <div class="method-heading">
          <a href="File.src/M000249.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000249.html');return false;">
          <span class="method-name">read_list</span><span class="method-args">(filepath, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Reads in a file, removes blank lines and removes lines starting with
&#8217;#&#8217; and then returns an array of all the remaining lines.
</p>
<p>
Thr remark indicator can be overridden via the +:omit:+ option, which can
be a regualar expression or a string that is match against the start of a
line.
</p>
<p>
CREDIT: Trans
</p>
        </div>
      </div>

      <div id="method-M000250" class="method-detail">
        <a name="M000250"></a>

        <div class="method-heading">
          <a href="File.src/M000250.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000250.html');return false;">
          <span class="method-name">rewrite</span><span class="method-args">(name, mode = &quot;&quot;) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Opens a file as a string and writes back the string to the file at the end
of the block.
</p>
<p>
Returns the number of written bytes or <tt>nil</tt> if the file
wasn&#8216;t modified.
</p>
<p>
Note that the file will even be written back in case the block raises an
exception.
</p>
<p>
Mode can either be &quot;b&quot; or &quot;+&quot; and specifies to open the
file in binary mode (no mapping of the plattform&#8216;s newlines to
&quot;\n&quot; is done) or to <a href="File.html#M000244">append</a> to it.
</p>
<p>
Assuming we had a file &#8216;message.txt&#8217; and had a binary file
&#8216;binary.dat&#8217;.
</p>
<pre>
  # Reverse contents of &quot;message.txt&quot;
  File.rewrite(&quot;tmp/message.txt&quot;) { |str| str.reverse }

  # Replace &quot;foo&quot; by &quot;bar&quot; in &quot;binary.dat&quot;.
  File.rewrite(&quot;tmp/binary.dat&quot;, &quot;b&quot;) { |str| str.gsub(&quot;foo&quot;, &quot;bar&quot;) }
</pre>
<p>
IMPORTANT: The old version of this method required in place modification of
the file string. The new version will <a href="File.html#M000256">write</a>
whatever the block returns instead!!!
</p>
<p>
CREDIT: George Moschovitis
</p>
        </div>
      </div>

      <div id="method-M000251" class="method-detail">
        <a name="M000251"></a>

        <div class="method-heading">
          <a href="File.src/M000251.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000251.html');return false;">
          <span class="method-name">rewrite!</span><span class="method-args">(name, mode = &quot;&quot;) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
In place version of <a href="File.html#M000250">rewrite</a>. This version
of method requires that the string be modified in place within the block.
</p>
<pre>
  # Reverse contents of &quot;message&quot;
  File.rewrite(&quot;tmp/message.txt&quot;) { |str| str.reverse! }

  # Replace &quot;foo&quot; by &quot;bar&quot; in &quot;binary&quot;
  File.rewrite(&quot;tmp/binary.dat&quot;, &quot;b&quot;) { |str| str.gsub!(&quot;foo&quot;, &quot;bar&quot;) }
</pre>
        </div>
      </div>

      <div id="method-M000252" class="method-detail">
        <a name="M000252"></a>

        <div class="method-heading">
          <a href="File.src/M000252.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000252.html');return false;">
          <span class="method-name">rootname</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns only the first portion of the directory of a file path name.
</p>
<pre>
  File.rootname('lib/jump.rb')  #=&gt; 'lib'
  File.rootname('/jump.rb')     #=&gt; '/'
  File.rootname('jump.rb')      #=&gt; '.'
</pre>
<p>
CREDIT: Trans
</p>
        </div>
      </div>

      <div id="method-M000253" class="method-detail">
        <a name="M000253"></a>

        <div class="method-heading">
          <a href="File.src/M000253.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000253.html');return false;">
          <span class="method-name">sanitize</span><span class="method-args">(filename)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Cleans up a filename to ensure it will work on a filesystem.
</p>
<pre>
  File.sanitize(&quot;yo+baby!&quot;)   #=&gt; 'yo+baby_'
  File.sanitize(&quot;.what&amp;up&quot;)  #=&gt; '.what_up'
</pre>
<p>
CREDIT: George Moschovitis
</p>
        </div>
      </div>

      <div id="method-M000254" class="method-detail">
        <a name="M000254"></a>

        <div class="method-heading">
          <a href="File.src/M000254.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000254.html');return false;">
          <span class="method-name">split_all</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Splits a file path into an array of individual path components. This
differs from <tt>File.split</tt>, which divides the path into only two
parts, directory path and basename.
</p>
<pre>
  File.split_all(&quot;a/b/c&quot;)  #=&gt; ['a', 'b', 'c']
</pre>
<p>
CREDIT: Trans
</p>
        </div>
      </div>

      <div id="method-M000255" class="method-detail">
        <a name="M000255"></a>

        <div class="method-heading">
          <a href="File.src/M000255.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000255.html');return false;">
          <span class="method-name">split_root</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the head of path from the rest of the path.
</p>
<pre>
  File.split_root('etc/xdg/gtk')  #=&gt; ['etc', 'xdg/gtk']
</pre>
        </div>
      </div>

      <div id="method-M000256" class="method-detail">
        <a name="M000256"></a>

        <div class="method-heading">
          <a href="File.src/M000256.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000256.html');return false;">
          <span class="method-name">write</span><span class="method-args">(path, data)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Writes the given data to the given path and closes the file. This is done
in binary mode, complementing <tt>IO.read</tt> in standard Ruby.
</p>
<pre>
  str = 'The content for the file'
  File.write('tmp/write.txt', str)
</pre>
<p>
Returns the number of bytes written.
</p>
<p>
CREDIT: Gavin Sinclair
</p>
        </div>
      </div>

      <div id="method-M000257" class="method-detail">
        <a name="M000257"></a>

        <div class="method-heading">
          <a href="File.src/M000257.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000257.html');return false;">
          <span class="method-name">writelines</span><span class="method-args">(path, data)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Writes the given array of data to the given path and closes the file. This
is done in binary mode, complementing <tt>IO.readlines</tt> in standard
Ruby.
</p>
<p>
Note that <tt>readlines</tt> (the standard Ruby method) returns an array of
lines <em>with newlines intact</em>, whereas <tt><a
href="File.html#M000257">writelines</a></tt> uses <tt>puts</tt>, and so
appends newlines if necessary. In this small way, <tt>readlines</tt> and
<tt><a href="File.html#M000257">writelines</a></tt> are not exact
opposites.
</p>
<pre>
  data = ['The content', ['for the file']]
  File.writelines('tmp/writelines.txt', data)
</pre>
<p>
Returns number of lines written.
</p>
<p>
CREDIT: Noah Gibbs, Gavin Sinclair
</p>
        </div>
      </div>

      <div id="method-M000258" class="method-detail">
        <a name="M000258"></a>

        <div class="method-heading">
          <a href="File.src/M000258.html" target="Code" class="method-signature"
            onclick="popupCode('File.src/M000258.html');return false;">
          <span class="method-name">yaml?</span><span class="method-args">(file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
File.yaml? provides a way to check if a file is a <a
href="YAML.html">YAML</a> formatted file:
</p>
<pre>
  File.yaml?('project.yaml')  #=&gt; true
  File.yaml?('project.xml')   #=&gt; false
</pre>
<p>
Note this isn&#8216;t perfect. At present it depends on the use use of an
initial document separator (eg. &#8217;&#8212;&#8217;). With <a
href="YAML.html">YAML</a> 1.1 the %<a href="YAML.html">YAML</a> delaration
is supposed to be manditory, so in the future this can be adapted to fit
that standard.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>